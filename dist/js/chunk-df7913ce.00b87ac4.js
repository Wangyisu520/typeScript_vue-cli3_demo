(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df7913ce"],{"01d7":function(e,t,a){"use strict";var o=a("7dc7"),n=a("c223"),r=a("aec8");e.exports=function(e,t,a){var i=o(t);i in e?n.f(e,i,r(0,a)):e[i]=a}},"021b":function(e,t,a){"use strict";var o=a("407d").forEach,n=a("fb11"),r=a("6885"),i=n("forEach"),s=r("forEach");e.exports=i&&s?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"0db2":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-data"},[a("div",{staticClass:"add-box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addAccount}},[e._v("新增账户")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"角色",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?a("el-select",{on:{change:function(a){return e.selectChange(t.row)}},model:{value:t.row.role,callback:function(a){e.$set(t.row,"role",a)},expression:"scope.row.role"}},e._l(e.options,(function(e){return a("el-option",{key:e.key,attrs:{label:e.role,value:e.role}})})),1):a("span",[e._v(e._s(t.row.role))])]}}])}),a("el-table-column",{attrs:{label:"账号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?a("el-input",{model:{value:t.row.username,callback:function(a){e.$set(t.row,"username",a)},expression:"scope.row.username"}}):a("span",[e._v(e._s(t.row.username))])]}}])}),a("el-table-column",{attrs:{label:"描述",prop:"des"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return"admin"!=t.row.username?[t.row.edit?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleSave(t.$index,t.row)}}},[e._v("完成")]):a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]:void 0}}],null,!0)})],1),a("AddAccount",{attrs:{dialogVisible:e.dialogVisible,options:e.options},on:{closeDialog:e.closeDialog,updata:e.getData}})],1)},n=[],r=(a("af82"),a("1a8c"),a("c1b0"),a("9a14"),a("8e0d")),i=a("4317"),s=a("a76b"),l=a("e849"),c=a("5b7b"),u=a("ace7"),d=a("d11d"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增账户",visible:e.dialogVisible,"close-on-click-modal":!1,"show-close":!1,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"form-box",attrs:{model:e.account,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"请选择角色",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择角色"},on:{change:e.selectChange},model:{value:e.account.role,callback:function(t){e.$set(e.account,"role",t)},expression:"account.role"}},e._l(e.options,(function(e){return a("el-option",{key:e.key,attrs:{label:e.role,value:e.role}})})),1)],1),a("el-form-item",{attrs:{label:"请输入账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.account.username,callback:function(t){e.$set(e.account,"username",t)},expression:"account.username"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.$emit("closeDialog")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("确定")])],1)],1)},p=[],b=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.account={key:"",role:"",username:"",des:""},e.rules={username:[{required:!0,message:"请输入账号",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change,blur"}]},e}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"selectChange",value:function(e){var t=this;this.options.map((function(a){a.role==e&&(t.account.key=a.key,t.account.des=a.des)}))}},{key:"handleAdd",value:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&e.$axios.post("/api/users/addUser",e.account).then((function(t){e.$emit("updata"),e.$message({message:t.data.msg,type:"success"})}))}))}}]),t}(d["e"]);u["a"]([Object(d["c"])(Boolean)],b.prototype,"dialogVisible",void 0),u["a"]([Object(d["c"])(Array)],b.prototype,"options",void 0),u["a"]([Object(d["d"])()],b.prototype,"account",void 0),u["a"]([Object(d["d"])()],b.prototype,"rules",void 0),u["a"]([Object(d["b"])("closeDialog")],b.prototype,"handleAdd",null),b=u["a"]([Object(d["a"])({components:{}})],b);var h=b,v=h,m=(a("6d21"),a("5511")),g=Object(m["a"])(v,f,p,!1,null,"78437e9b",null),y=g.exports,k=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.tableData=[],e.dialogVisible=!1,e.options=[{key:"admin",role:"管理员",des:"Super Administrator. Have access to view all pages."},{key:"editor",role:"客服",des:"Normal Editor. Can see all pages except permission page"},{key:"visitor",role:"游客",des:"Just a visitor. Can only see the home page and the document page"}],e}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"created",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;this.$axios("/api/users/allUsers").then((function(t){t.data.datas.forEach((function(e){e.edit=!1})),e.tableData=t.data.datas}))}},{key:"addAccount",value:function(){this.dialogVisible=!0}},{key:"closeDialog",value:function(){this.dialogVisible=!1}},{key:"handleEdit",value:function(e,t){t.edit=!0}},{key:"handleSave",value:function(e,t){var a=this;t.edit=!1,this.$axios.post("/api/users/editUser/".concat(t._id),t).then((function(e){a.$message({message:e.data.msg,type:"success"})}))}},{key:"handleDelete",value:function(e,t){var a=this;this.$axios.delete("/api/users/deleteUser/".concat(t._id)).then((function(t){a.$message({message:t.data.msg,type:"success"}),a.tableData.splice(e,1)}))}},{key:"selectChange",value:function(e){this.options.map((function(t){t.role==e.role&&(e.key=t.key,e.des=t.des)}))}}]),t}(d["e"]);u["a"]([Object(d["d"])()],k.prototype,"tableData",void 0),u["a"]([Object(d["d"])()],k.prototype,"dialogVisible",void 0),u["a"]([Object(d["d"])()],k.prototype,"options",void 0),k=u["a"]([Object(d["a"])({components:{AddAccount:y}})],k);var w=k,O=w,j=(a("3e51"),Object(m["a"])(O,o,n,!1,null,"2cfad701",null));t["default"]=j.exports},"1a8c":function(e,t,a){"use strict";var o=a("91fe"),n=a("407d").map,r=a("b1a1"),i=a("6885"),s=r("map"),l=i("map");o({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"3e51":function(e,t,a){"use strict";var o=a("7c01"),n=a.n(o);n.a},"6d21":function(e,t,a){"use strict";var o=a("afee"),n=a.n(o);n.a},"7c01":function(e,t,a){},"9a14":function(e,t,a){var o=a("d5dc"),n=a("41f6"),r=a("021b"),i=a("2ba5");for(var s in n){var l=o[s],c=l&&l.prototype;if(c&&c.forEach!==r)try{i(c,"forEach",r)}catch(u){c.forEach=r}}},af82:function(e,t,a){"use strict";var o=a("91fe"),n=a("021b");o({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},afee:function(e,t,a){},c1b0:function(e,t,a){"use strict";var o=a("91fe"),n=a("0192"),r=a("f240"),i=a("684e"),s=a("ee6f"),l=a("3132"),c=a("01d7"),u=a("b1a1"),d=a("6885"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,h=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var a,o,u,d,f,p,g=s(this),y=i(g.length),k=n(e,y),w=arguments.length;if(0===w?a=o=0:1===w?(a=0,o=y-k):(a=w-2,o=h(b(r(t),0),y-k)),y+a-o>v)throw TypeError(m);for(u=l(g,o),d=0;d<o;d++)f=k+d,f in g&&c(u,d,g[f]);if(u.length=o,a<o){for(d=k;d<y-o;d++)f=d+o,p=d+a,f in g?g[p]=g[f]:delete g[p];for(d=y;d>y-o+a;d--)delete g[d-1]}else if(a>o)for(d=y-o;d>k;d--)f=d+o-1,p=d+a-1,f in g?g[p]=g[f]:delete g[p];for(d=0;d<a;d++)g[d+k]=arguments[d+2];return g.length=y-o+a,u}})}}]);
//# sourceMappingURL=chunk-df7913ce.00b87ac4.js.map